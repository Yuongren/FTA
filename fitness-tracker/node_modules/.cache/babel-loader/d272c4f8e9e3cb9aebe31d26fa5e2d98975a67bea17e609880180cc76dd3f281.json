{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';// For navigation after login\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();// Initialize navigate\nconst handleSubmit=async e=>{e.preventDefault();if(!email||!password){setError('Please enter both email and password');return;}try{// API call to authenticate user\nconst response=await fetch('http://localhost:5000/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();// Check if the response is successful\nif(response.ok){console.log('Login successful:',data);setError('');navigate('/dashboard');}else{console.log('Login failed:',data.message);// Log the actual message from the backend\nsetError(data.message||'Invalid email or password');}}catch(error){// Handle any network or API issues\nconsole.error('Error logging in:',error);setError('An error occurred, please try again later.');}};;return/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),\" \",/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)// Ensure email state is updated\n,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)// Ensure password state is updated\n,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]});};export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginForm","email","setEmail","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","console","log","message","className","children","style","color","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["/home/student/Documents/Class/FTA/fitness-tracker/src/LoginForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // For navigation after login\n\nconst LoginForm = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate(); // Initialize navigate\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!email || !password) {\n        setError('Please enter both email and password');\n        return;\n    }\n\n    try {\n        // API call to authenticate user\n        const response = await fetch('http://localhost:5000/api/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ email, password })\n        });\n\n        const data = await response.json();\n\n        // Check if the response is successful\n        if (response.ok) {\n            console.log('Login successful:', data);\n            setError('');\n            navigate('/dashboard');\n        } else {\n            console.log('Login failed:', data.message);  // Log the actual message from the backend\n            setError(data.message || 'Invalid email or password');\n        }\n    } catch (error) {\n        // Handle any network or API issues\n        console.error('Error logging in:', error);\n        setError('An error occurred, please try again later.');\n    }\n};\n\n  ;\n\n  return (\n    <div className=\"login-form\">\n      <h2>Login</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>} {/* Error message */}\n      <form onSubmit={handleSubmit}>\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)} // Ensure email state is updated\n        required\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)} // Ensure password state is updated\n        required\n      />\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAa,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAAE;AAEhC,KAAM,CAAAa,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACT,KAAK,EAAI,CAACE,QAAQ,CAAE,CACrBG,QAAQ,CAAC,sCAAsC,CAAC,CAChD,OACJ,CAEA,GAAI,CACA;AACA,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,iCAAiC,CAAE,CAC5DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEhB,KAAK,CAAEE,QAAS,CAAC,CAC5C,CAAC,CAAC,CAEF,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAElC;AACA,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACbC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEJ,IAAI,CAAC,CACtCZ,QAAQ,CAAC,EAAE,CAAC,CACZC,QAAQ,CAAC,YAAY,CAAC,CAC1B,CAAC,IAAM,CACHc,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEJ,IAAI,CAACK,OAAO,CAAC,CAAG;AAC7CjB,QAAQ,CAACY,IAAI,CAACK,OAAO,EAAI,2BAA2B,CAAC,CACzD,CACJ,CAAE,MAAOlB,KAAK,CAAE,CACZ;AACAgB,OAAO,CAAChB,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzCC,QAAQ,CAAC,4CAA4C,CAAC,CAC1D,CACJ,CAAC,CAEC,CAEA,mBACEP,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,IAAA,OAAA4B,QAAA,CAAI,OAAK,CAAI,CAAC,CACbpB,KAAK,eAAIR,IAAA,MAAG6B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAEpB,KAAK,CAAI,CAAC,CAAC,GAAC,cACnDN,KAAA,SAAM6B,QAAQ,CAAEpB,YAAa,CAAAiB,QAAA,eAC7B5B,IAAA,UACEgC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE9B,KAAM,CACb+B,QAAQ,CAAGvB,CAAC,EAAKP,QAAQ,CAACO,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAG;AAAA,CAC3CG,QAAQ,MACT,CAAC,cACFrC,IAAA,UACEgC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE5B,QAAS,CAChB6B,QAAQ,CAAGvB,CAAC,EAAKL,WAAW,CAACK,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAG;AAAA,CAC9CG,QAAQ,MACT,CAAC,cACArC,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChC,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}